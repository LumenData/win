{{ error_message }}
{# NVD3 #}

<link href="/static/nvd3/css/nv.d3.css" rel="stylesheet" type="text/css">
<script src="/static/nvd3/js/d3.v3.js"></script>
<script src="/static/nvd3/js/nv.d3.js"></script>

<svg id="mainChart" ></svg>

<script>
	var chart_data = {{ chart_data|safe }};
	var chart_options = {{ chart_options|safe }};
	var chart_type = "{{ chart_type }}";

	// Django had to pass dates as strings, converting them back
	if(chart_options["xaxis_type"] == "date"){
		for (var i=0; i < chart_data[0]["values"].length; i++){
			chart_data[0]["values"][i]["x"] = new Date(x_value = chart_data[0]["values"][i]["x"])
		}
	}
</script>

{% if chart_type == "pieChart" %}
	<script src='/static/charts/js/piechart.js' type='text/javascript'> </script>
{% elif chart_type == "lineChart" %}
	<script src='/static/charts/js/linechart.js' type='text/javascript'> </script>
{% elif chart_type == "scatterChart" %}
	<script src='/static/charts/js/scatterchart.js' type='text/javascript'> </script>
{% elif chart_type == "barChart" %}
	<script src='/static/charts/js/barchart.js' type='text/javascript'> </script>
{% endif %}





