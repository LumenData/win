{% extends "_layouts/base.html" %}
{# {% block page_title %}{{ dataframe.name }}{% endblock %} #}
{% block nav_analysis_active %}active{% endblock %}

{% block head_content %}
	<link rel="stylesheet" href="/static/charts/css/charts.css">
	<script src="/static/charts/js/charts.js"></script>
{% endblock %}

{% block page_content %}

<div class="panel panel-info column-frame">
	<span class="panel-heading column-title">{{ dataframe.name }}</span>
		<ul id="column-list" class="connectedSortable dropzone">
			{% for column in dataframe.columns %}
				<div class="btn btn-danger btn-xs mypill" id="{{ column.Field }}" data-name="{{ column.Field }}">

					{% if "date" in column.Type %}
						<span class="glyphicon glyphicon-calendar"> </span>
					{% elif "char" in column.Type %}
						<span class="glyphicon glyphicon-font"> </span>
					{% elif "text" in column.Type %}
						<span class="glyphicon glyphicon-font"> </span>
					{% elif "time" in column.Type %}
						<span class="glyphicon glyphicon-time"> </span>
					{% elif "int" in column.Type %}
						<span class="hashicon">#</span> 
					{% elif "double" in column.Type %}
						<span class="hashicon">#</span> 

					{% else %}
						{{ column.Type }}
					{% endif %}
					<script>document.write(toTitleCase('{{ column.Field }}'));</script>
				</div>
				
			{% endfor %}
		</ul>
</div>


<div class="panel panel-success rows">
	<span class="panel-heading rows">Rows</span> 
	<ul id="report-rows" class="connectedSortable dropzone"></ul>
</div>

<div class="panel panel-success rows">
	<span class="panel-heading rows">Columns</span> 
	<ul id="report-columns" class="connectedSortable dropzone"></ul>
</div>


<div id="report-area">
	<div id="chart_loading_bar" class="progress progress-striped active">
	  <div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
	</div>
	<svg id="mainChart" ></svg>
	
</div>

<script>
	var chartData = {{ chartData|safe }} ;
	console.debug(chartData);
</script>


{% if chartType == "pieChart" %}
	<script src='/static/charts/js/piechart.js' type='text/javascript'> </script>
{% endif %}




<script>
	window.dataframe_id = {{ dataframe.id }}
</script>

{% endblock %}
